# KatelyaTV ğŸš€

> ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„åœ¨çº¿è§†é¢‘æµåª’ä½“å¹³å°ï¼Œæ”¯æŒè§†é¢‘ç‚¹æ’­å’Œ IPTV ç›´æ’­åŠŸèƒ½

[![Next.js](https://img.shields.io/badge/Next.js-14.x-blueviolet.svg)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18.x-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue.svg)](https://www.typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.x-38B2AC.svg)](https://tailwindcss.com/)

## âœ¨ æœ€æ–°æ›´æ–°ï¼šIPTV ç›´æ’­åŠŸèƒ½

ğŸ‰ **ç‰ˆæœ¬ 0.5.0-katelya é‡å¤§æ›´æ–°**ï¼š

- ğŸ†• **å®Œæ•´ IPTV ç›´æ’­æ”¯æŒ**ï¼šæ”¯æŒ M3U/M3U8 æ’­æ”¾åˆ—è¡¨æ ¼å¼
- ğŸ› ï¸ **ç›´æ’­æºç®¡ç†**ï¼šç®¡ç†å‘˜å¯åœ¨åå°æ·»åŠ ã€ç¼–è¾‘ã€ç®¡ç†ç›´æ’­æº
- ğŸ“º **é¢‘é“åˆ†ç»„æµè§ˆ**ï¼šæŒ‰åˆ†ç»„æŸ¥çœ‹å’Œé€‰æ‹©ç›´æ’­é¢‘é“
- âš¡ **æ™ºèƒ½ç¼“å­˜**ï¼š30 åˆ†é’Ÿé¢‘é“æ•°æ®ç¼“å­˜ï¼Œæå‡è®¿é—®é€Ÿåº¦
- ğŸ”„ **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡å¯ç”¨/ç¦ç”¨/åˆ é™¤/åˆ·æ–°ç›´æ’­æº
- ğŸ“± **å…¨å¹³å°æ”¯æŒ**ï¼šæ‰€æœ‰å­˜å‚¨åç«¯éƒ½æ”¯æŒç›´æ’­åŠŸèƒ½

## ğŸ¬ ä¸»è¦åŠŸèƒ½

### ğŸ“º IPTV ç›´æ’­åŠŸèƒ½ (æ–°å¢)

- **ğŸ¯ ç›´æ’­æºç®¡ç†**: ç®¡ç†å‘˜å¯æ·»åŠ /ç¼–è¾‘/åˆ é™¤ç›´æ’­æº
- **ğŸ“‹ M3U/M3U8 æ”¯æŒ**: æ”¯æŒæ ‡å‡†æ’­æ”¾åˆ—è¡¨æ ¼å¼
- **ğŸ“‚ é¢‘é“åˆ†ç»„**: æŒ‰åˆ†ç»„æµè§ˆç›´æ’­é¢‘é“
- **âš¡ æ™ºèƒ½ç¼“å­˜**: 30 åˆ†é’Ÿé¢‘é“æ•°æ®ç¼“å­˜
- **ğŸ”„ æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡ç®¡ç†ç›´æ’­æº
- **â†•ï¸ æ‹–æ‹½æ’åº**: ç›´æ’­æºé¡ºåºå¯è°ƒæ•´
- **ğŸ” å®æ—¶è§£æ**: è‡ªåŠ¨è§£ææ’­æ”¾åˆ—è¡¨ï¼Œç»Ÿè®¡é¢‘é“æ•°é‡

### ğŸ¥ è§†é¢‘ç‚¹æ’­åŠŸèƒ½

- **ğŸ” å¤šæºæœç´¢**: æ”¯æŒå¤šä¸ªè§†é¢‘èµ„æºç«™ç‚¹
- **ğŸ“± å“åº”å¼æ’­æ”¾**: å®Œç¾é€‚é…å„ç§è®¾å¤‡
- **â­ æ”¶è—ç³»ç»Ÿ**: ç”¨æˆ·å¯æ”¶è—å–œçˆ±çš„å†…å®¹
- **ğŸ“– è§‚çœ‹è®°å½•**: è‡ªåŠ¨è®°å½•è§‚çœ‹è¿›åº¦
- **ğŸ—‚ï¸ åˆ†ç±»æµè§ˆ**: æŒ‰ç±»å‹æµè§ˆå½±è§†å†…å®¹

### ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§

- **ğŸ’¾ å¤šå­˜å‚¨åç«¯**: LocalStorageã€Redisã€Kvrocksã€D1ã€Upstash
- **ğŸ“± PWA æ”¯æŒ**: å¯å®‰è£…ä¸ºæ¡Œé¢åº”ç”¨
- **ğŸŒ— ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæš—è‰²/äº®è‰²ä¸»é¢˜
- **âš¡ æ€§èƒ½ä¼˜åŒ–**: å›¾ç‰‡æ‡’åŠ è½½ã€ä»£ç åˆ†å‰²
- **ğŸ” æƒé™ç®¡ç†**: å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.x
- pnpm (æ¨è) æˆ– npm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone <repository-url>
cd KatelyaTV
```

2. **å®‰è£…ä¾èµ–**

```bash
pnpm install
# æˆ–
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
# æˆ–
npm run dev
```

4. **è®¿é—®åº”ç”¨**

- ç”¨æˆ·ç•Œé¢: http://localhost:3000
- ç®¡ç†åå°: http://localhost:3000/admin
- ç›´æ’­é¡µé¢: http://localhost:3000/live/sources

### ğŸ“‹ æµ‹è¯•ç›´æ’­åŠŸèƒ½

è¿è¡Œç›´æ’­åŠŸèƒ½æµ‹è¯•è„šæœ¬ï¼š

```bash
pnpm run test:live
# æˆ–
npm run test:live
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
KatelyaTV/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/          # ç®¡ç† API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ live/       # ç›´æ’­æºç®¡ç† API
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ live/           # ç›´æ’­ç›¸å…³ API
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ channels/   # é¢‘é“åˆ—è¡¨ API
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ sources/    # ç›´æ’­æºåˆ—è¡¨ API
â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/              # ç®¡ç†åå°
â”‚   â”‚   â”œâ”€â”€ ğŸ“ live/               # ç›´æ’­ç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # ç›´æ’­æ’­æ”¾é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ sources/        # ç›´æ’­æºé€‰æ‹©é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“ search/             # æœç´¢é¡µé¢
â”‚   â”‚   â””â”€â”€ ğŸ“ play/               # æ’­æ”¾é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“ lib/                    # å·¥å…·åº“å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ m3u-parser.ts          # M3U/M3U8 è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ types.ts               # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ *.db.ts                # å­˜å‚¨åç«¯æ”¯æŒ
â”‚   â””â”€â”€ ğŸ“ styles/                 # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ ğŸ“ public/                     # é™æ€èµ„æº
â”œâ”€â”€ ğŸ“ scripts/                    # æ„å»ºå’Œå·¥å…·è„šæœ¬
â”‚   â””â”€â”€ test-live-tv.js            # ç›´æ’­åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ ğŸ“ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ LIVE_TV.md                 # ç›´æ’­åŠŸèƒ½è¯¦ç»†æ–‡æ¡£
â””â”€â”€ ğŸ“ migrations/                 # æ•°æ®åº“è¿ç§»æ–‡ä»¶
    â””â”€â”€ 003_live_sources.sql       # ç›´æ’­æºè¡¨ç»“æ„
```

## ğŸ¯ ç›´æ’­åŠŸèƒ½è¯¦è§£

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç®¡ç†å‘˜åå°  â”‚â”€â”€â”€â–¶â”‚  ç›´æ’­æºç®¡ç†   â”‚â”€â”€â”€â–¶â”‚ M3U/M3U8   â”‚
â”‚             â”‚    â”‚              â”‚    â”‚    è§£æ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                  â”‚
                            â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·ç•Œé¢   â”‚â—€â”€â”€â”€â”‚  é¢‘é“æ•°æ®     â”‚â—€â”€â”€â”€â”‚  ç¼“å­˜ç³»ç»Ÿ   â”‚
â”‚             â”‚    â”‚   å­˜å‚¨       â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§†é¢‘æ’­æ”¾å™¨  â”‚    â”‚  å¤šå­˜å‚¨åç«¯   â”‚
â”‚             â”‚    â”‚   æ”¯æŒ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ¨¡å‹

#### LiveConfig (ç›´æ’­æºé…ç½®)

```typescript
interface LiveConfig {
  key: string; // å”¯ä¸€æ ‡è¯†
  name: string; // ç›´æ’­æºåç§°
  url: string; // M3U/M3U8 åœ°å€
  ua?: string; // User-Agent
  epg?: string; // ç”µå­èŠ‚ç›®å•URL
  from: 'config' | 'custom'; // æ¥æºï¼šé…ç½®æ–‡ä»¶æˆ–è‡ªå®šä¹‰
  channelNumber: number; // é¢‘é“æ•°é‡
  disabled: boolean; // å¯ç”¨çŠ¶æ€
  order?: number; // æ’åº
}
```

#### LiveChannel (ç›´æ’­é¢‘é“)

```typescript
interface LiveChannel {
  name: string; // é¢‘é“åç§°
  url: string; // æ’­æ”¾åœ°å€
  logo?: string; // é¢‘é“logo
  group?: string; // é¢‘é“åˆ†ç»„
  epg_id?: string; // EPGèŠ‚ç›®å•ID
}
```

## ğŸ”§ éƒ¨ç½²æŒ‡å—

### å­˜å‚¨åç«¯å¯¹æ¯”

| åç«¯ç±»å‹      | é€‚ç”¨åœºæ™¯      | ç‰¹ç‚¹                     | ç›´æ’­åŠŸèƒ½æ”¯æŒ |
| ------------- | ------------- | ------------------------ | ------------ |
| LocalStorage  | å¼€å‘/å°å‹éƒ¨ç½² | æ— éœ€é…ç½®ï¼Œæµè§ˆå™¨æœ¬åœ°å­˜å‚¨ | âœ… å®Œæ•´æ”¯æŒ  |
| Redis         | é«˜æ€§èƒ½éœ€æ±‚    | å†…å­˜ç¼“å­˜ï¼Œé«˜å¹¶å‘æ”¯æŒ     | âœ… å®Œæ•´æ”¯æŒ  |
| Kvrocks       | æŒä¹…åŒ–å­˜å‚¨    | Redis å…¼å®¹ï¼Œæ•°æ®æŒä¹…åŒ–   | âœ… å®Œæ•´æ”¯æŒ  |
| Cloudflare D1 | æ— æœåŠ¡å™¨éƒ¨ç½²  | SQLiteï¼Œå…¨çƒåˆ†å¸ƒ         | âœ… å®Œæ•´æ”¯æŒ  |
| Upstash Redis | æ— æœåŠ¡å™¨ç¼“å­˜  | Redis å…¼å®¹ï¼ŒæŒ‰ä½¿ç”¨ä»˜è´¹   | âœ… å®Œæ•´æ”¯æŒ  |

### Vercel éƒ¨ç½²

1. **è¿æ¥ GitHub**

   ```bash
   git push origin main
   ```

2. **ç¯å¢ƒå˜é‡é…ç½®**

   ```env
   STORAGE_TYPE=localstorage
   # æˆ–å…¶ä»–å­˜å‚¨åç«¯é…ç½®
   ```

3. **è‡ªåŠ¨éƒ¨ç½²**
   - Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ Next.js é¡¹ç›®å¹¶éƒ¨ç½²

### Cloudflare Pages éƒ¨ç½²

1. **æ„å»ºé…ç½®**

   ```bash
   pnpm run pages:build
   ```

2. **D1 æ•°æ®åº“è®¾ç½® (å¯é€‰)**

   ```bash
   # åˆ›å»ºæ•°æ®åº“
   npx wrangler d1 create katelyatv

   # æ‰§è¡Œè¿ç§»
   npx wrangler d1 execute katelyatv --file=migrations/003_live_sources.sql
   ```

### Docker éƒ¨ç½²

```dockerfile
FROM node:18-alpine

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package*.json ./
RUN npm ci --only=production

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# æš´éœ²ç«¯å£
EXPOSE 3000

# å¯åŠ¨åº”ç”¨
CMD ["npm", "start"]
```

## ğŸ” ç®¡ç†åå°ä½¿ç”¨

### é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

- ç”¨æˆ·å: `admin`
- å¯†ç : `password123`

### ç›´æ’­æºç®¡ç†åŠŸèƒ½

1. **æ·»åŠ ç›´æ’­æº**

   - è¿›å…¥ç®¡ç†åå° â†’ ç›´æ’­æºé…ç½®
   - ç‚¹å‡»"æ·»åŠ "æŒ‰é’®
   - å¡«å†™ç›´æ’­æºä¿¡æ¯ï¼ˆåç§°ã€M3U åœ°å€ã€User-Agent ç­‰ï¼‰
   - ç³»ç»Ÿä¼šè‡ªåŠ¨è§£æå¹¶ç»Ÿè®¡é¢‘é“æ•°é‡

2. **ç®¡ç†æ“ä½œ**

   - âœ… å¯ç”¨/ç¦ç”¨ç›´æ’­æº
   - ğŸ“Š æŸ¥çœ‹é¢‘é“æ•°é‡ç»Ÿè®¡
   - ğŸ”„ åˆ·æ–°é¢‘é“æ•°æ®
   - ğŸ—‘ï¸ åˆ é™¤ä¸éœ€è¦çš„æº
   - â†•ï¸ æ‹–æ‹½è°ƒæ•´æ˜¾ç¤ºé¡ºåº
   - ğŸ“¦ æ‰¹é‡æ“ä½œå¤šä¸ªæº

3. **é«˜çº§åŠŸèƒ½**
   - ğŸ¯ æ”¯æŒè‡ªå®šä¹‰ User-Agent
   - ğŸ“º EPG ç”µå­èŠ‚ç›®å•é›†æˆ (è§„åˆ’ä¸­)
   - âš¡ æ™ºèƒ½ç¼“å­˜ç®¡ç†
   - ğŸ” M3U æ ¼å¼éªŒè¯

## ğŸ“± ç§»åŠ¨ç«¯ä½“éªŒ

- **ğŸ“± å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”å„ç§å±å¹•å°ºå¯¸
- **ğŸ”½ ç§»åŠ¨ç«¯å¯¼èˆª**: åº•éƒ¨å¯¼èˆªæ ï¼Œæ“ä½œä¾¿æ·
- **ğŸ‘† è§¦æ§ä¼˜åŒ–**: æ”¯æŒè§¦æ‘¸æ‰‹åŠ¿æ“ä½œ
- **ğŸ“² PWA åŠŸèƒ½**: å¯æ·»åŠ åˆ°ä¸»å±å¹•ï¼Œç±»åŸç”Ÿä½“éªŒ
- **âš¡ æ€§èƒ½ä¼˜åŒ–**: ç§»åŠ¨ç«¯ä¸“é—¨ä¼˜åŒ–ï¼Œæµç•…æ’­æ”¾

## ğŸ¨ ä¸»é¢˜å’Œç•Œé¢

### å†…ç½®ä¸»é¢˜

- ğŸŒ **äº®è‰²ä¸»é¢˜**: æ¸…çˆ½æ˜äº®ï¼Œé€‚åˆç™½å¤©ä½¿ç”¨
- ğŸŒ™ **æš—è‰²ä¸»é¢˜**: æŠ¤çœ¼èˆ’é€‚ï¼Œé€‚åˆå¤œé—´è§‚çœ‹
- ğŸ¯ **è‡ªåŠ¨åˆ‡æ¢**: è·Ÿéšç³»ç»Ÿä¸»é¢˜è®¾ç½®

### ç•Œé¢ç‰¹è‰²

- ğŸ¨ **ç°ä»£åŒ–è®¾è®¡**: åŸºäº Tailwind CSS çš„ç²¾ç¾ç•Œé¢
- ğŸ”„ **æµç•…åŠ¨ç”»**: Framer Motion æä¾›çš„ä¸æ»‘ä½“éªŒ
- ğŸ“ **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’è§„èŒƒ
- ğŸ¯ **ç”¨æˆ·å‹å¥½**: ç›´è§‚çš„æ“ä½œæµç¨‹å’Œæ¸…æ™°çš„ä¿¡æ¯å±•ç¤º

## ğŸ› ï¸ å¼€å‘ç›¸å…³

### è„šæœ¬å‘½ä»¤

```bash
# å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# ä»£ç æ ¼å¼åŒ–
pnpm run format

# ä»£ç æ£€æŸ¥
pnpm run lint

# ç±»å‹æ£€æŸ¥
pnpm run typecheck

# æµ‹è¯•ç›´æ’­åŠŸèƒ½
pnpm run test:live

# ç”Ÿæˆé…ç½®æ–‡ä»¶
pnpm run gen:runtime

# ç”Ÿæˆ PWA æ¸…å•
pnpm run gen:manifest
```

### æŠ€æœ¯æ ˆè¯¦æƒ…

| åˆ†ç±»   | æŠ€æœ¯é€‰æ‹©      | ç‰ˆæœ¬   | è¯´æ˜                       |
| ------ | ------------- | ------ | -------------------------- |
| æ¡†æ¶   | Next.js       | 14.x   | React å…¨æ ˆæ¡†æ¶ï¼ŒApp Router |
| è¯­è¨€   | TypeScript    | 5.x    | ç±»å‹å®‰å…¨çš„ JavaScript      |
| æ ·å¼   | Tailwind CSS  | 3.x    | å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶        |
| å›¾æ ‡   | Lucide React  | latest | æ¼‚äº®çš„å¼€æºå›¾æ ‡åº“           |
| åŠ¨ç”»   | Framer Motion | 12.x   | ç”Ÿäº§å°±ç»ªçš„åŠ¨ç”»åº“           |
| æ’­æ”¾å™¨ | ArtPlayer     | 5.x    | ç°ä»£åŒ–çš„ HTML5 æ’­æ”¾å™¨      |
| å¼¹çª—   | SweetAlert2   | 11.x   | ç¾è§‚çš„è­¦å‘Šæ¡†æ›¿ä»£           |
| æ‹–æ‹½   | @dnd-kit      | 6.x    | ç°ä»£åŒ–çš„æ‹–æ‹½åº“             |

## ğŸ“Š API æ–‡æ¡£

### ç›´æ’­ç›¸å…³ API

| ç«¯ç‚¹                            | æ–¹æ³•   | æè¿°                   | æƒé™   |
| ------------------------------- | ------ | ---------------------- | ------ |
| `/api/live/sources`             | GET    | è·å–å…¬å¼€ç›´æ’­æºåˆ—è¡¨     | å…¬å¼€   |
| `/api/live/channels?source=xxx` | GET    | è·å–æŒ‡å®šæºçš„é¢‘é“åˆ—è¡¨   | å…¬å¼€   |
| `/api/admin/live`               | GET    | è·å–æ‰€æœ‰ç›´æ’­æºç®¡ç†ä¿¡æ¯ | ç®¡ç†å‘˜ |
| `/api/admin/live`               | POST   | æ·»åŠ æ–°çš„ç›´æ’­æº         | ç®¡ç†å‘˜ |
| `/api/admin/live`               | PUT    | æ›´æ–°ç›´æ’­æºä¿¡æ¯         | ç®¡ç†å‘˜ |
| `/api/admin/live`               | DELETE | åˆ é™¤ç›´æ’­æº             | ç®¡ç†å‘˜ |

### è¯·æ±‚ç¤ºä¾‹

```javascript
// è·å–ç›´æ’­æºåˆ—è¡¨
fetch('/api/live/sources')
  .then((res) => res.json())
  .then((data) => console.log(data));

// æ·»åŠ ç›´æ’­æº (ç®¡ç†å‘˜æƒé™)
fetch('/api/admin/live', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    action: 'add',
    config: {
      key: 'my_source',
      name: 'æˆ‘çš„ç›´æ’­æº',
      url: 'http://example.com/playlist.m3u',
      ua: 'Mozilla/5.0...',
    },
  }),
});
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### ç›´æ’­ç›¸å…³é—®é¢˜

1. **Q: ç›´æ’­æºæ— æ³•åŠ è½½ï¼Ÿ**

   - A: æ£€æŸ¥ M3U/M3U8 åœ°å€æ˜¯å¦æœ‰æ•ˆï¼Œç¡®è®¤ç½‘ç»œè¿æ¥ï¼Œå°è¯•è®¾ç½® User-Agent

2. **Q: é¢‘é“æ’­æ”¾å¤±è´¥ï¼Ÿ**

   - A: æ£€æŸ¥é¢‘é“æ’­æ”¾åœ°å€æ˜¯å¦å¯è®¿é—®ï¼Œç¡®è®¤æµè§ˆå™¨æ”¯æŒè§†é¢‘æ ¼å¼

3. **Q: é¢‘é“æ•°é‡æ˜¾ç¤ºä¸º 0ï¼Ÿ**
   - A: ç‚¹å‡»åˆ·æ–°æŒ‰é’®é‡æ–°è§£æï¼Œæ£€æŸ¥ M3U æ–‡ä»¶æ ¼å¼

#### éƒ¨ç½²ç›¸å…³é—®é¢˜

4. **Q: Vercel éƒ¨ç½²åæ— æ³•è®¿é—®ç›´æ’­åŠŸèƒ½ï¼Ÿ**

   - A: ç¡®ä¿ç¯å¢ƒå˜é‡ `STORAGE_TYPE` è®¾ç½®æ­£ç¡®ï¼ŒLocalStorage é€‚åˆ Vercel

5. **Q: D1 æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ**
   - A: æ£€æŸ¥ wrangler.toml é…ç½®ï¼Œç¡®ä¿æ•°æ®åº“å·²åˆ›å»ºå¹¶æ‰§è¡Œäº†è¿ç§»

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

- **ç¼“å­˜ç­–ç•¥**: åˆç†è®¾ç½®ç¼“å­˜æ—¶é—´ï¼Œå¹³è¡¡æ€§èƒ½å’Œå®æ—¶æ€§
- **å¹¶å‘æ§åˆ¶**: é¿å…åŒæ—¶åˆ·æ–°è¿‡å¤šç›´æ’­æº
- **ç½‘ç»œä¼˜åŒ–**: ä½¿ç”¨ CDN åŠ é€Ÿ M3U æ–‡ä»¶è®¿é—®
- **å­˜å‚¨é€‰æ‹©**: æ ¹æ®ç”¨æˆ·é‡é€‰æ‹©åˆé€‚çš„å­˜å‚¨åç«¯

## ğŸ—ºï¸ å‘å±•è·¯çº¿å›¾

### ğŸ¯ å³å°†æ¨å‡º (v0.6.0)

- [ ] **EPG ç”µå­èŠ‚ç›®å•**: æ˜¾ç¤ºèŠ‚ç›®æ—¶é—´è¡¨å’Œè¯¦æƒ…
- [ ] **æ”¶è—é¢‘é“**: ç”¨æˆ·å¯æ”¶è—å¸¸çœ‹é¢‘é“
- [ ] **é¢‘é“æœç´¢**: åœ¨ç›´æ’­é¢‘é“ä¸­å¿«é€Ÿæœç´¢
- [ ] **æ’­æ”¾å†å²**: è®°å½•æœ€è¿‘è§‚çœ‹çš„é¢‘é“

### ğŸš€ è®¡åˆ’åŠŸèƒ½ (v0.7.0+)

- [ ] **å½•åˆ¶åŠŸèƒ½**: æ”¯æŒç›´æ’­èŠ‚ç›®å½•åˆ¶
- [ ] **å›çœ‹åŠŸèƒ½**: æ”¯æŒæ—¶ç§»æ’­æ”¾
- [ ] **å¤šç”»é¢**: åŒæ—¶è§‚çœ‹å¤šä¸ªé¢‘é“
- [ ] **å¼¹å¹•åŠŸèƒ½**: å®æ—¶äº’åŠ¨å¼¹å¹•ç³»ç»Ÿ
- [ ] **ç›´æ’­é¢„çº¦**: èŠ‚ç›®æé†’å’Œé¢„çº¦å½•åˆ¶

### ğŸŒ é•¿æœŸç›®æ ‡

- [ ] **å¤šè¯­è¨€æ”¯æŒ**: å›½é™…åŒ–ç•Œé¢
- [ ] **æ’ä»¶ç³»ç»Ÿ**: æ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶æ‰©å±•
- [ ] **ç§»åŠ¨ç«¯ APP**: åŸç”Ÿç§»åŠ¨åº”ç”¨
- [ ] **æ™ºèƒ½æ¨è**: åŸºäºè§‚çœ‹å†å²çš„å†…å®¹æ¨è

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºçš„è´¡çŒ®ï¼æ— è®ºæ˜¯ bug æŠ¥å‘Šã€åŠŸèƒ½å»ºè®®è¿˜æ˜¯ä»£ç è´¡çŒ®ã€‚

### å¼€å‘æµç¨‹

1. **Fork é¡¹ç›®** åˆ°ä½ çš„ GitHub è´¦æˆ·
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **ç¼–å†™ä»£ç ** å¹¶ç¡®ä¿é€šè¿‡æ‰€æœ‰æµ‹è¯•
4. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
5. **æ¨é€åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
6. **åˆ›å»º Pull Request**

### å¼€å‘è§„èŒƒ

```bash
# å®‰è£…ä¾èµ–
pnpm install

# ä»£ç æ ¼å¼åŒ–
pnpm run format

# ä»£ç æ£€æŸ¥
pnpm run lint:fix

# ç±»å‹æ£€æŸ¥
pnpm run typecheck

# è¿è¡Œæµ‹è¯•
pnpm run test

# æµ‹è¯•ç›´æ’­åŠŸèƒ½
pnpm run test:live
```

### è´¡çŒ®ç±»å‹

- ğŸ› **Bug ä¿®å¤**: å‘ç°å¹¶ä¿®å¤é—®é¢˜
- âœ¨ **æ–°åŠŸèƒ½**: æè®®å’Œå®ç°æ–°åŠŸèƒ½
- ğŸ“ **æ–‡æ¡£æ”¹è¿›**: å®Œå–„é¡¹ç›®æ–‡æ¡£
- ğŸ¨ **ç•Œé¢ä¼˜åŒ–**: æ”¹è¿›ç”¨æˆ·ç•Œé¢å’Œä½“éªŒ
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: æå‡åº”ç”¨æ€§èƒ½
- ğŸ”§ **å·¥å…·æ”¹è¿›**: ä¼˜åŒ–å¼€å‘å·¥å…·å’Œæµç¨‹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

### å¼€æºé¡¹ç›®è‡´è°¢

- [Next.js](https://nextjs.org/) - å¼ºå¤§çš„ React å…¨æ ˆæ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [ArtPlayer](https://artplayer.org/) - ç°ä»£åŒ–çš„è§†é¢‘æ’­æ”¾å™¨
- [Lucide React](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“
- [SweetAlert2](https://sweetalert2.github.io/) - ç¾è§‚çš„å¼¹çª—ç»„ä»¶
- [Framer Motion](https://www.framer.com/motion/) - æµç•…çš„åŠ¨ç”»åº“

### ç¤¾åŒºè´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

### åŸé¡¹ç›®è‡´è°¢

æ„Ÿè°¢ MoonTV é¡¹ç›®çš„åŸä½œè€…å’Œæ‰€æœ‰è´¡çŒ®è€…ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†åšå®çš„åŸºç¡€ã€‚

---

<div align="center">
  
### ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒï¼

[![Stars](https://img.shields.io/github/stars/yourusername/KatelyaTV?style=social)](https://github.com/yourusername/KatelyaTV/stargazers)
[![Forks](https://img.shields.io/github/forks/yourusername/KatelyaTV?style=social)](https://github.com/yourusername/KatelyaTV/network/members)

**ğŸ“§ é—®é¢˜åé¦ˆ** Â· **ğŸ’¡ åŠŸèƒ½å»ºè®®** Â· **ğŸ¤ å‚ä¸è´¡çŒ®**

[æäº¤ Issue](https://github.com/yourusername/KatelyaTV/issues) Â· [åŠŸèƒ½è¯·æ±‚](https://github.com/yourusername/KatelyaTV/issues/new?template=feature_request.md) Â· [æ–‡æ¡£](docs/LIVE_TV.md)

</div>
